/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is false */

#line 1 "in_bmp.o.i"
struct _IO_FILE;
#line 1
struct _IO_FILE;
#line 2 "in_bmp.o.i"
typedef struct _IO_FILE FILE;
#line 4 "in_bmp.o.i"
typedef unsigned int at_dimen_t;
#line 8 "in_bmp.o.i"
struct _at_bitmap_type {
   at_dimen_t height ;
   at_dimen_t width ;
   unsigned char *bitmap ;
   unsigned int np ;
};
#line 8 "in_bmp.o.i"
typedef struct _at_bitmap_type at_bitmap_type;
#line 15 "in_bmp.o.i"
typedef at_bitmap_type bitmap_type;
#line 17 "in_bmp.o.i"
struct Bitmap_File_Head_Struct {
   char zzMagic[2] ;
   unsigned long bfSize ;
   unsigned short zzHotX ;
   unsigned short zzHotY ;
   unsigned long bfOffs ;
   unsigned long biSize ;
};
#line 27 "in_bmp.o.i"
struct Bitmap_Head_Struct {
   unsigned long biWidth ;
   unsigned long biHeight ;
   unsigned short biPlanes ;
   unsigned short biBitCnt ;
   unsigned long biCompr ;
   unsigned long biSizeIm ;
   unsigned long biXPels ;
   unsigned long biYPels ;
   unsigned long biClrUsed ;
   unsigned long biClrImp ;
};
#line 17 "in_bmp.o.i"
struct Bitmap_File_Head_Struct Bitmap_File_Head  ;
#line 27 "in_bmp.o.i"
struct Bitmap_Head_Struct Bitmap_Head  ;
#line 42
static long ToL(unsigned char *puffer ) ;
#line 43
static short ToS(unsigned char *puffer ) ;
#line 44
static int ReadColorMap(FILE *fd , unsigned char (*buffer)[3] , int number , int size ,
                        int *grey ) ;
#line 49
static unsigned char *ReadImage(FILE *fd , int width , int height , unsigned char (*cmap)[3] ,
                                int bpp , int compression , int rowbytes , int grey ) ;
#line 93 "/home/khheo/project/cve/benchmark/sam2p-0.49.4/input-bmp.ci"
extern int ( /* missing proto */  exit)() ;
#line 92
extern int ( /* missing proto */  fread)() ;
#line 92
extern int ( /* missing proto */  strncmp)() ;
#line 59 "in_bmp.o.i"
bitmap_type bmp_load_image(FILE *filename ) 
{ 
  FILE *fd ;
  unsigned char buffer[64] ;
  int ColormapSize ;
  int rowbytes ;
  int Maps ;
  int Grey ;
  unsigned char ColorMap[256][3] ;
  bitmap_type image ;
  int tmp ;
  int tmp___0 ;
  long tmp___1 ;
  short tmp___2 ;
  short tmp___3 ;
  long tmp___4 ;
  long tmp___5 ;
  int tmp___6 ;
  short tmp___7 ;
  short tmp___8 ;
  short tmp___9 ;
  short tmp___10 ;
  int tmp___11 ;
  long tmp___12 ;
  long tmp___13 ;
  short tmp___14 ;
  short tmp___15 ;
  long tmp___16 ;
  long tmp___17 ;
  long tmp___18 ;
  long tmp___19 ;
  long tmp___20 ;
  long tmp___21 ;
  int tmp___22 ;
  long tmp___23 ;
  long tmp___24 ;
  short tmp___25 ;
  short tmp___26 ;
  long tmp___27 ;
  long tmp___28 ;
  long tmp___29 ;
  long tmp___30 ;
  long tmp___31 ;
  long tmp___32 ;
  int tmp___33 ;

  {
  {
#line 66
  Maps = 0;
#line 71
  fd = filename;
#line 92 "/home/khheo/project/cve/benchmark/sam2p-0.49.4/input-bmp.ci"
  tmp = fread(buffer, 18, 1, fd);
  }
#line 92
  if (tmp != 0) {
    {
#line 92
    tmp___0 = strncmp((char const   *)(buffer), "BM", 2);
    }
#line 92
    if (tmp___0) {
      {
#line 93
      exit(1);
      }
    }
  } else {
    {
#line 93
    exit(1);
    }
  }
  {
#line 100
  tmp___1 = ToL(& buffer[2]);
#line 100
  Bitmap_File_Head.bfSize = (unsigned long )tmp___1;
#line 101
  tmp___2 = ToS(& buffer[6]);
#line 101
  Bitmap_File_Head.zzHotX = (unsigned short )tmp___2;
#line 102
  tmp___3 = ToS(& buffer[8]);
#line 102
  Bitmap_File_Head.zzHotY = (unsigned short )tmp___3;
#line 103
  tmp___4 = ToL(& buffer[10]);
#line 103
  Bitmap_File_Head.bfOffs = (unsigned long )tmp___4;
#line 104
  tmp___5 = ToL(& buffer[14]);
#line 104
  Bitmap_File_Head.biSize = (unsigned long )tmp___5;
  }
#line 108
  if (Bitmap_File_Head.biSize == 12UL) {
    {
#line 110
    tmp___6 = fread(buffer, 8, 1, fd);
    }
#line 110
    if (! (tmp___6 != 0)) {
      {
#line 111
      exit(1);
      }
    }
    {
#line 113
    tmp___7 = ToS(& buffer[0]);
#line 113
    Bitmap_Head.biWidth = (unsigned long )tmp___7;
#line 114
    tmp___8 = ToS(& buffer[2]);
#line 114
    Bitmap_Head.biHeight = (unsigned long )tmp___8;
#line 115
    tmp___9 = ToS(& buffer[4]);
#line 115
    Bitmap_Head.biPlanes = (unsigned short )tmp___9;
#line 116
    tmp___10 = ToS(& buffer[6]);
#line 116
    Bitmap_Head.biBitCnt = (unsigned short )tmp___10;
#line 117
    Bitmap_Head.biCompr = 0UL;
#line 118
    Bitmap_Head.biSizeIm = 0UL;
#line 119
    Bitmap_Head.biYPels = 0UL;
#line 119
    Bitmap_Head.biXPels = Bitmap_Head.biYPels;
#line 120
    Bitmap_Head.biClrUsed = 0UL;
#line 121
    Maps = 3;
    }
  } else
#line 123
  if (Bitmap_File_Head.biSize == 40UL) {
    {
#line 125
    tmp___11 = fread(buffer, Bitmap_File_Head.biSize - 4UL, 1, fd);
    }
#line 125
    if (! (tmp___11 != 0)) {
      {
#line 126
      exit(1);
      }
    }
    {
#line 128
    tmp___12 = ToL(& buffer[0]);
#line 128
    Bitmap_Head.biWidth = (unsigned long )tmp___12;
#line 129
    tmp___13 = ToL(& buffer[4]);
#line 129
    Bitmap_Head.biHeight = (unsigned long )tmp___13;
#line 130
    tmp___14 = ToS(& buffer[8]);
#line 130
    Bitmap_Head.biPlanes = (unsigned short )tmp___14;
#line 131
    tmp___15 = ToS(& buffer[10]);
#line 131
    Bitmap_Head.biBitCnt = (unsigned short )tmp___15;
#line 132
    tmp___16 = ToL(& buffer[12]);
#line 132
    Bitmap_Head.biCompr = (unsigned long )tmp___16;
#line 133
    tmp___17 = ToL(& buffer[16]);
#line 133
    Bitmap_Head.biSizeIm = (unsigned long )tmp___17;
#line 134
    tmp___18 = ToL(& buffer[20]);
#line 134
    Bitmap_Head.biXPels = (unsigned long )tmp___18;
#line 135
    tmp___19 = ToL(& buffer[24]);
#line 135
    Bitmap_Head.biYPels = (unsigned long )tmp___19;
#line 136
    tmp___20 = ToL(& buffer[28]);
#line 136
    Bitmap_Head.biClrUsed = (unsigned long )tmp___20;
#line 137
    tmp___21 = ToL(& buffer[32]);
#line 137
    Bitmap_Head.biClrImp = (unsigned long )tmp___21;
#line 139
    Maps = 4;
    }
  } else
#line 141
  if (Bitmap_File_Head.biSize <= 64UL) {
    {
#line 143
    tmp___22 = fread(buffer, Bitmap_File_Head.biSize - 4UL, 1, fd);
    }
#line 143
    if (! (tmp___22 != 0)) {
      {
#line 144
      exit(1);
      }
    }
    {
#line 146
    tmp___23 = ToL(& buffer[0]);
#line 146
    Bitmap_Head.biWidth = (unsigned long )tmp___23;
#line 147
    tmp___24 = ToL(& buffer[4]);
#line 147
    Bitmap_Head.biHeight = (unsigned long )tmp___24;
#line 148
    tmp___25 = ToS(& buffer[8]);
#line 148
    Bitmap_Head.biPlanes = (unsigned short )tmp___25;
#line 149
    tmp___26 = ToS(& buffer[10]);
#line 149
    Bitmap_Head.biBitCnt = (unsigned short )tmp___26;
#line 150
    tmp___27 = ToL(& buffer[12]);
#line 150
    Bitmap_Head.biCompr = (unsigned long )tmp___27;
#line 151
    tmp___28 = ToL(& buffer[16]);
#line 151
    Bitmap_Head.biSizeIm = (unsigned long )tmp___28;
#line 152
    tmp___29 = ToL(& buffer[20]);
#line 152
    Bitmap_Head.biXPels = (unsigned long )tmp___29;
#line 153
    tmp___30 = ToL(& buffer[24]);
#line 153
    Bitmap_Head.biYPels = (unsigned long )tmp___30;
#line 154
    tmp___31 = ToL(& buffer[28]);
#line 154
    Bitmap_Head.biClrUsed = (unsigned long )tmp___31;
#line 155
    tmp___32 = ToL(& buffer[32]);
#line 155
    Bitmap_Head.biClrImp = (unsigned long )tmp___32;
#line 157
    Maps = 3;
    }
  } else {
    {
#line 160
    exit(1);
    }
  }
#line 167
  ColormapSize = (int )(((Bitmap_File_Head.bfOffs - Bitmap_File_Head.biSize) - 14UL) / (unsigned long )Maps);
#line 169
  if (Bitmap_Head.biClrUsed == 0UL) {
#line 169
    if ((int )Bitmap_Head.biBitCnt <= 8) {
#line 170
      Bitmap_Head.biClrUsed = (unsigned long )ColormapSize;
    }
  }
#line 174
  if (Bitmap_Head.biHeight == 0UL) {
    {
#line 175
    exit(1);
    }
  } else
#line 174
  if (Bitmap_Head.biWidth == 0UL) {
    {
#line 175
    exit(1);
    }
  }
#line 177
  if ((int )Bitmap_Head.biPlanes != 1) {
    {
#line 178
    exit(1);
    }
  }
#line 180
  if (ColormapSize > 256) {
    {
#line 181
    exit(1);
    }
  } else
#line 180
  if (Bitmap_Head.biClrUsed > 256UL) {
    {
#line 181
    exit(1);
    }
  }
  {
#line 187
  rowbytes = (int )(((Bitmap_Head.biWidth * (unsigned long )Bitmap_Head.biBitCnt - 1UL) / 32UL) * 4UL + 4UL);
#line 198
  tmp___33 = ReadColorMap(fd, (unsigned char (*)[3])(ColorMap), ColormapSize, Maps,
                          & Grey);
  }
#line 198
  if (tmp___33 == -1) {
    {
#line 199
    exit(1);
    }
  }
  {
#line 206
  image.bitmap = ReadImage(fd, (int )Bitmap_Head.biWidth, (int )Bitmap_Head.biHeight,
                           (unsigned char (*)[3])(ColorMap), (int )Bitmap_Head.biBitCnt,
                           (int )Bitmap_Head.biCompr, rowbytes, Grey);
#line 214
  image.width = (at_dimen_t )Bitmap_Head.biWidth;
#line 215
  image.height = (at_dimen_t )Bitmap_Head.biHeight;
  }
#line 216
  if (Grey) {
#line 216
    image.np = 1U;
  } else {
#line 216
    image.np = 3U;
  }
#line 218
  return (image);
}
}
#line 221 "/home/khheo/project/cve/benchmark/sam2p-0.49.4/input-bmp.ci"
static int ReadColorMap(FILE *fd , unsigned char (*buffer)[3] , int number , int size ,
                        int *grey ) 
{ 
  int i ;
  unsigned char rgb[4] ;
  int tmp ;
  int tmp___0 ;

  {
#line 231
  *grey = number > 2;
#line 232
  i = 0;
  {
#line 232
  while (1) {
    while_continue: /* CIL Label */ ;
#line 232
    if (! (i < number)) {
#line 232
      goto while_break;
    }
    {
#line 234
    tmp = fread(rgb, size, 1, fd);
    }
#line 234
    if (! (tmp != 0)) {
      {
#line 235
      exit(1);
      }
    }
#line 239
    (*(buffer + i))[0] = rgb[2];
#line 240
    (*(buffer + i))[1] = rgb[1];
#line 241
    (*(buffer + i))[2] = rgb[0];
#line 242
    if (*grey) {
#line 242
      if ((int )rgb[0] == (int )rgb[1]) {
#line 242
        if ((int )rgb[1] == (int )rgb[2]) {
#line 242
          tmp___0 = 1;
        } else {
#line 242
          tmp___0 = 0;
        }
      } else {
#line 242
        tmp___0 = 0;
      }
    } else {
#line 242
      tmp___0 = 0;
    }
#line 242
    *grey = tmp___0;
#line 232
    i ++;
  }
  while_break: /* CIL Label */ ;
  }
#line 244
  return (0);
}
}
#line 267
extern int ( /* missing proto */  malloc)() ;
#line 247 "/home/khheo/project/cve/benchmark/sam2p-0.49.4/input-bmp.ci"
static unsigned char *ReadImage(FILE *fd , int width , int height , unsigned char (*cmap)[3] ,
                                int bpp , int compression , int rowbytes , int grey ) 
{ 
  unsigned char v ;
  unsigned char howmuch ;
  int xpos ;
  int ypos ;
  unsigned char *image ;
  unsigned char *temp ;
  unsigned char *buffer ;
  long rowstride ;
  long channels ;
  unsigned short rgb ;
  int i ;
  int j ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  unsigned char *tmp___3 ;
  unsigned char *tmp___4 ;
  unsigned char *tmp___5 ;
  int tmp___6 ;
  unsigned char *tmp___7 ;
  unsigned char *tmp___8 ;
  unsigned char *tmp___9 ;
  int tmp___10 ;
  short tmp___11 ;
  unsigned char *tmp___12 ;
  unsigned char *tmp___13 ;
  unsigned char *tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  int tmp___17 ;
  int tmp___18 ;
  int tmp___19 ;
  int tmp___20 ;
  int tmp___21 ;

  {
#line 258
  xpos = 0;
#line 258
  ypos = 0;
#line 265
  if (bpp >= 16) {
    {
#line 267
    tmp = malloc((unsigned long )((width * height) * 3) * sizeof(unsigned char ));
#line 267
    image = (unsigned char *)tmp;
#line 268
    channels = 3L;
    }
  } else
#line 270
  if (grey) {
    {
#line 272
    tmp___0 = malloc((unsigned long )(width * height) * sizeof(unsigned char ));
#line 272
    image = (unsigned char *)tmp___0;
#line 273
    channels = 1L;
    }
  } else {
    {
#line 277
    tmp___1 = malloc((unsigned long )(width * height) * sizeof(unsigned char ));
#line 277
    image = (unsigned char *)tmp___1;
#line 278
    channels = 1L;
    }
  }
  {
#line 281
  tmp___2 = malloc(rowbytes);
#line 281
  buffer = (unsigned char *)tmp___2;
#line 282
  rowstride = (long )width * channels;
#line 284
  ypos = height - 1;
  }
  {
#line 288
  if (bpp == 32) {
#line 288
    goto case_32;
  }
#line 304
  if (bpp == 24) {
#line 304
    goto case_24;
  }
#line 320
  if (bpp == 16) {
#line 320
    goto case_16;
  }
#line 339
  if (bpp == 1) {
#line 339
    goto case_1;
  }
#line 339
  if (bpp == 4) {
#line 339
    goto case_1;
  }
#line 339
  if (bpp == 8) {
#line 339
    goto case_1;
  }
#line 434
  goto switch_default;
  case_32: /* CIL Label */ 
  {
#line 290
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 290
    tmp___6 = fread(buffer, rowbytes, 1, fd);
    }
#line 290
    if (! (tmp___6 != 0)) {
#line 290
      goto while_break;
    }
#line 292
    temp = image + (long )ypos * rowstride;
#line 293
    xpos = 0;
    {
#line 293
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 293
      if (! (xpos < width)) {
#line 293
        goto while_break___0;
      }
#line 295
      tmp___3 = temp;
#line 295
      temp ++;
#line 295
      *tmp___3 = *(buffer + (xpos * 4 + 2));
#line 296
      tmp___4 = temp;
#line 296
      temp ++;
#line 296
      *tmp___4 = *(buffer + (xpos * 4 + 1));
#line 297
      tmp___5 = temp;
#line 297
      temp ++;
#line 297
      *tmp___5 = *(buffer + xpos * 4);
#line 293
      xpos ++;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 299
    ypos --;
  }
  while_break: /* CIL Label */ ;
  }
#line 302
  goto switch_break;
  case_24: /* CIL Label */ 
  {
#line 306
  while (1) {
    while_continue___1: /* CIL Label */ ;
    {
#line 306
    tmp___10 = fread(buffer, rowbytes, 1, fd);
    }
#line 306
    if (! (tmp___10 != 0)) {
#line 306
      goto while_break___1;
    }
#line 308
    temp = image + (long )ypos * rowstride;
#line 309
    xpos = 0;
    {
#line 309
    while (1) {
      while_continue___2: /* CIL Label */ ;
#line 309
      if (! (xpos < width)) {
#line 309
        goto while_break___2;
      }
#line 311
      tmp___7 = temp;
#line 311
      temp ++;
#line 311
      *tmp___7 = *(buffer + (xpos * 3 + 2));
#line 312
      tmp___8 = temp;
#line 312
      temp ++;
#line 312
      *tmp___8 = *(buffer + (xpos * 3 + 1));
#line 313
      tmp___9 = temp;
#line 313
      temp ++;
#line 313
      *tmp___9 = *(buffer + xpos * 3);
#line 309
      xpos ++;
    }
    while_break___2: /* CIL Label */ ;
    }
#line 315
    ypos --;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 318
  goto switch_break;
  case_16: /* CIL Label */ 
  {
#line 322
  while (1) {
    while_continue___3: /* CIL Label */ ;
    {
#line 322
    tmp___15 = fread(buffer, rowbytes, 1, fd);
    }
#line 322
    if (! (tmp___15 != 0)) {
#line 322
      goto while_break___3;
    }
#line 324
    temp = image + (long )ypos * rowstride;
#line 325
    xpos = 0;
    {
#line 325
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 325
      if (! (xpos < width)) {
#line 325
        goto while_break___4;
      }
      {
#line 327
      tmp___11 = ToS(buffer + xpos * 2);
#line 327
      rgb = (unsigned short )tmp___11;
#line 328
      tmp___12 = temp;
#line 328
      temp ++;
#line 328
      *tmp___12 = (unsigned char )((((int )rgb >> 10) & 31) * 8);
#line 329
      tmp___13 = temp;
#line 329
      temp ++;
#line 329
      *tmp___13 = (unsigned char )((((int )rgb >> 5) & 31) * 8);
#line 330
      tmp___14 = temp;
#line 330
      temp ++;
#line 330
      *tmp___14 = (unsigned char )(((int )rgb & 31) * 8);
#line 325
      xpos ++;
      }
    }
    while_break___4: /* CIL Label */ ;
    }
#line 332
    ypos --;
  }
  while_break___3: /* CIL Label */ ;
  }
#line 335
  goto switch_break;
  case_1: /* CIL Label */ 
  case_4: /* CIL Label */ 
  case_8: /* CIL Label */ 
#line 341
  if (compression == 0) {
    {
#line 343
    while (1) {
      while_continue___5: /* CIL Label */ ;
      {
#line 343
      tmp___17 = fread(& v, 1, 1, fd);
      }
#line 343
      if (! (tmp___17 != 0)) {
#line 343
        goto while_break___5;
      }
#line 345
      i = 1;
      {
#line 345
      while (1) {
        while_continue___6: /* CIL Label */ ;
#line 345
        if (i <= 8 / bpp) {
#line 345
          if (! (xpos < width)) {
#line 345
            goto while_break___6;
          }
        } else {
#line 345
          goto while_break___6;
        }
#line 347
        temp = (image + (long )ypos * rowstride) + (long )xpos * channels;
#line 348
        *temp = (unsigned char )(((int )v & (((1 << bpp) - 1) << (8 - i * bpp))) >> (8 - i * bpp));
#line 345
        i ++;
#line 345
        xpos ++;
      }
      while_break___6: /* CIL Label */ ;
      }
#line 350
      if (xpos == width) {
        {
#line 352
        tmp___16 = fread(buffer, (rowbytes - 1) - (width * bpp - 1) / 8, 1, fd);
#line 354
        ypos --;
#line 355
        xpos = 0;
        }
      }
#line 358
      if (ypos < 0) {
#line 359
        goto while_break___5;
      }
    }
    while_break___5: /* CIL Label */ ;
    }
#line 361
    goto switch_break;
  } else {
    {
#line 365
    while (1) {
      while_continue___7: /* CIL Label */ ;
#line 365
      if (ypos >= 0) {
#line 365
        if (! (xpos <= width)) {
#line 365
          goto while_break___7;
        }
      } else {
#line 365
        goto while_break___7;
      }
      {
#line 367
      tmp___18 = fread(buffer, 2, 1, fd);
      }
#line 368
      if ((int )*(buffer + 0) != 0) {
#line 371
        j = 0;
        {
#line 371
        while (1) {
          while_continue___8: /* CIL Label */ ;
#line 371
          if ((int )((unsigned char )j) < (int )*(buffer + 0)) {
#line 371
            if (! (xpos < width)) {
#line 371
              goto while_break___8;
            }
          } else {
#line 371
            goto while_break___8;
          }
#line 376
          i = 1;
          {
#line 376
          while (1) {
            while_continue___9: /* CIL Label */ ;
#line 376
            if (i <= 8 / bpp) {
#line 376
              if (xpos < width) {
#line 376
                if (! ((int )((unsigned char )j) < (int )*(buffer + 0))) {
#line 376
                  goto while_break___9;
                }
              } else {
#line 376
                goto while_break___9;
              }
            } else {
#line 376
              goto while_break___9;
            }
#line 382
            temp = (image + (long )ypos * rowstride) + (long )xpos * channels;
#line 383
            *temp = (unsigned char )(((int )*(buffer + 1) & (((1 << bpp) - 1) << (8 - i * bpp))) >> (8 - i * bpp));
#line 376
            i ++;
#line 376
            xpos ++;
#line 376
            j ++;
          }
          while_break___9: /* CIL Label */ ;
          }
        }
        while_break___8: /* CIL Label */ ;
        }
      }
#line 387
      if ((int )*(buffer + 0) == 0) {
#line 387
        if ((int )*(buffer + 1) > 2) {
#line 390
          howmuch = *(buffer + 1);
#line 391
          j = 0;
          {
#line 391
          while (1) {
            while_continue___10: /* CIL Label */ ;
#line 391
            if (! (j < (int )howmuch)) {
#line 391
              goto while_break___10;
            }
            {
#line 393
            tmp___19 = fread(& v, 1, 1, fd);
#line 394
            i = 1;
            }
            {
#line 395
            while (1) {
              while_continue___11: /* CIL Label */ ;
#line 395
              if (i <= 8 / bpp) {
#line 395
                if (! (xpos < width)) {
#line 395
                  goto while_break___11;
                }
              } else {
#line 395
                goto while_break___11;
              }
#line 397
              temp = (image + (long )ypos * rowstride) + (long )xpos * channels;
#line 398
              *temp = (unsigned char )(((int )v & (((1 << bpp) - 1) << (8 - i * bpp))) >> (8 - i * bpp));
#line 399
              i ++;
#line 400
              xpos ++;
            }
            while_break___11: /* CIL Label */ ;
            }
#line 391
            j += 8 / bpp;
          }
          while_break___10: /* CIL Label */ ;
          }
#line 404
          if ((int )howmuch % 2) {
#line 404
            if (bpp == 4) {
#line 405
              howmuch = (unsigned char )((int )howmuch + 1);
            }
          }
#line 407
          if (((int )howmuch / (8 / bpp)) % 2) {
            {
#line 408
            tmp___20 = fread(& v, 1, 1, fd);
            }
          }
        }
      }
#line 411
      if ((int )*(buffer + 0) == 0) {
#line 411
        if ((int )*(buffer + 1) == 0) {
#line 414
          ypos --;
#line 415
          xpos = 0;
        }
      }
#line 417
      if ((int )*(buffer + 0) == 0) {
#line 417
        if ((int )*(buffer + 1) == 1) {
#line 420
          goto while_break___7;
        }
      }
#line 422
      if ((int )*(buffer + 0) == 0) {
#line 422
        if ((int )*(buffer + 1) == 2) {
          {
#line 425
          tmp___21 = fread(buffer, 2, 1, fd);
#line 426
          xpos += (int )*(buffer + 0);
#line 427
          ypos -= (int )*(buffer + 1);
          }
        }
      }
    }
    while_break___7: /* CIL Label */ ;
    }
#line 430
    goto switch_break;
  }
#line 433
  goto switch_break;
  switch_default: /* CIL Label */ ;
  switch_break: /* CIL Label */ ;
  }
#line 440
  return (image);
}
}
#line 474 "/home/khheo/project/cve/benchmark/sam2p-0.49.4/input-bmp.ci"
static long ToL(unsigned char *puffer ) 
{ 


  {
#line 477
  return ((long )((((int )*(puffer + 0) | ((int )*(puffer + 1) << 8)) | ((int )*(puffer + 2) << 16)) | ((int )*(puffer + 3) << 24)));
}
}
#line 480 "/home/khheo/project/cve/benchmark/sam2p-0.49.4/input-bmp.ci"
static short ToS(unsigned char *puffer ) 
{ 


  {
#line 483
  return ((short )((int )*(puffer + 0) | ((int )*(puffer + 1) << 8)));
}
}

// Harness main function
int main() {
    bmp_load_image();
    return 1;
}
